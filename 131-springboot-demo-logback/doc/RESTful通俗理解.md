## 、REST 的核心思想：3 个关键词（图书馆类比）

把服务器比作 “图书馆”，接口设计就是 “图书馆的管理规则”，REST 的核心思想可以用 3 个关键词概括：

### 1. 关键词 1：面向资源（名词为王）

#### 核心逻辑

REST 的世界里，一切都是 “资源”—— 资源是服务器上可命名的抽象概念，**以名词为核心组织接口**，而非动词。

#### 通俗类比（图书馆 vs 传统接口 vsRESTful 接口）

| 场景     | 传统接口（动词为王）                      | RESTful 接口（名词为王）           | 核心差异                                                     |
| -------- | ----------------------------------------- | ---------------------------------- | ------------------------------------------------------------ |
| 查询图书 | `/getBookById?id=1`（关注 “查” 这个动作） | `/books/1`（关注 “图书” 这个资源） | 传统接口是 “告诉服务器做什么”，REST 是 “告诉服务器操作哪个资源” |
| 新增图书 | `/addBook`（关注 “加” 这个动作）          | `/books`（关注 “图书” 这个资源）   | -                                                            |
| 修改图书 | `/updateBook`（关注 “改” 这个动作）       | `/books/1`（关注 “图书” 这个资源） | -                                                            |

#### 关键：如何定义 “资源”？

- 资源是**名词**：用户（users）、订单（orders）、图书（books）、评论（comments）；
- 资源可分层：比如 “图书 1 的评论” 是子资源，定义为`/books/1/comments`；
- 资源是**抽象概念**：不是具体的 “数据行”，而是一类事物的统称（比如 “books” 代表所有图书，“books/1” 代表具体某本）。

### 2. 关键词 2：统一接口（操作有限且标准）

#### 核心逻辑

对资源的所有操作，必须通过**HTTP 方法**（GET/POST/PUT/DELETE）完成，且每个资源只能执行有限的标准操作 —— 拒绝自定义操作（比如`/deleteBookById`）。

#### 通俗类比

图书馆的操作只有固定几种：“查书（GET）”“借书（POST）”“改借书信息（PUT）”“还书（DELETE）”，不会有 “自定义操作”（比如 “特殊查书”“加急借书”）。

#### RESTful 的标准操作（HTTP 方法对应）

| HTTP 方法 | 操作含义     | 幂等性                     | 通俗理解（图书场景）                                         |
| --------- | ------------ | -------------------------- | ------------------------------------------------------------ |
| GET       | 查询资源     | 是（多次执行结果一致）     | 查图书：`GET /books/1`（查 ID=1 的书）、`GET /books`（查所有书） |
| POST      | 创建资源     | 否（多次执行可能创建多个） | 新增图书：`POST /books`（添加一本新书）                      |
| PUT       | 全量更新资源 | 是                         | 修改图书所有信息：`PUT /books/1`（覆盖 ID=1 的书的所有字段） |
| PATCH     | 部分更新资源 | 是                         | 修改图书部分信息：`PATCH /books/1`（只改 ID=1 的书的价格）   |
| DELETE    | 删除资源     | 是                         | 删除图书：`DELETE /books/1`（删除 ID=1 的书）                |

✅ 幂等性：多次调用接口，结果和调用一次一致（比如 GET 查 10 次，结果都是同一本书；POST 调用 10 次，可能创建 10 本相同的书）。